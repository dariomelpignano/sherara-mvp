<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sherara - AI-Powered Regulatory Compliance Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='50%' x='50%' text-anchor='middle' font-size='60'>üõ°Ô∏è</text></svg>">
</head>
<body>
    <!-- Enhanced Header with Professional Branding -->
    <header class="main-header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="brand">
                    <h1>Sherara</h1>
                    <p class="tagline">AI-Powered Compliance Intelligence</p>
                </div>
            </div>
            <div class="header-stats">
                <div class="header-stat">
                    <span class="stat-value" id="header-compliance-score">--</span>
                    <span class="stat-label">Compliance Score</span>
                </div>
                <div class="header-stat">
                    <span class="stat-value" id="header-gaps">0</span>
                    <span class="stat-label">Active Gaps</span>
                </div>
                <div class="user-menu">
                    <button class="user-btn">
                        <i class="fas fa-user-circle"></i>
                        <span>Demo User</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="app-container">
        <!-- Enhanced Navigation -->
        <nav class="sidebar-nav">
            <div class="nav-section">
                <h3>Main</h3>
                <button class="nav-item active" data-section="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                    <span class="nav-badge" id="dashboard-badge"></span>
                </button>
                <button class="nav-item" data-section="documents">
                    <i class="fas fa-folder-open"></i>
                    <span>Documents</span>
                    <span class="nav-badge" id="docs-badge">0</span>
                </button>
                <button class="nav-item" data-section="taxonomy">
                    <i class="fas fa-tags"></i>
                    <span>Taxonomy</span>
                </button>
                <button class="nav-item" data-section="regulations">
                    <i class="fas fa-book"></i>
                    <span>Regulations</span>
                </button>
                <button class="nav-item" data-section="analysis">
                    <i class="fas fa-microscope"></i>
                    <span>Analysis</span>
                </button>
                <button class="nav-item" data-section="compliance-map">
                    <i class="fas fa-map"></i>
                    <span>Compliance Map</span>
                </button>
            </div>
            <div class="nav-section">
                <h3>AI Tools</h3>
                <button class="nav-item" data-section="chat">
                    <i class="fas fa-robot"></i>
                    <span>AI Assistant</span>
                    <span class="nav-indicator pulse"></span>
                </button>
                <button class="nav-item" data-section="insights">
                    <i class="fas fa-lightbulb"></i>
                    <span>AI Insights</span>
                </button>
            </div>
            <div class="nav-section">
                <h3>Resources</h3>
                <button class="nav-item" data-section="reports">
                    <i class="fas fa-file-alt"></i>
                    <span>Reports</span>
                </button>
            </div>
        </nav>

        <main class="main-content">
            <!-- Enhanced Dashboard -->
            <section id="dashboard" class="content-section active">
                <div class="section-header">
                    <h2>Compliance Dashboard</h2>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="refreshDashboard()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                        <button class="btn btn-primary" onclick="generateReport()">
                            <i class="fas fa-download"></i> Export Report
                        </button>
                    </div>
                </div>

                <!-- Key Metrics Cards -->
                <div class="metrics-grid">
                    <div class="metric-card primary">
                        <div class="metric-icon">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <div class="metric-content">
                            <h3>Compliance Score</h3>
                            <div class="metric-value">
                                <span class="score-display" id="compliance-score">--</span>
                                <span class="score-trend" id="score-trend"></span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="compliance-progress"></div>
                            </div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="metric-content">
                            <h3>Documents Analyzed</h3>
                            <div class="metric-value">
                                <span id="doc-count">0</span>
                            </div>
                            <p class="metric-subtitle">Last 30 days</p>
                        </div>
                    </div>

                    <div class="metric-card warning">
                        <div class="metric-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="metric-content">
                            <h3>Active Gaps</h3>
                            <div class="metric-value">
                                <span id="gap-count">0</span>
                            </div>
                            <p class="metric-subtitle"><span id="new-gaps">0</span> new this week</p>
                        </div>
                    </div>

                    <div class="metric-card danger">
                        <div class="metric-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="metric-content">
                            <h3>Critical Risks</h3>
                            <div class="metric-value">
                                <span id="high-risk-count">0</span>
                            </div>
                            <p class="metric-subtitle">Immediate action required</p>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>Risk Distribution</h3>
                        <div class="chart-container">
                            <canvas id="riskChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Compliance Trend</h3>
                        <div class="chart-container">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Regulation Coverage</h3>
                        <div class="chart-container">
                            <canvas id="coverageChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="activity-section">
                    <h3>Recent Activity</h3>
                    <div class="activity-timeline" id="activity-timeline">
                        <div class="timeline-item">
                            <div class="timeline-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="timeline-content">
                                <p>Welcome to Sherara! Upload your first document to begin.</p>
                                <span class="timeline-time">Just now</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Enhanced Documents Section -->
            <section id="documents" class="content-section">
                <div class="section-header">
                    <h2>Document Management</h2>
                    <div class="header-actions">
                        <input type="search" class="search-input" placeholder="Search documents..." id="doc-search">
                        <button class="btn btn-primary" onclick="showUploadModal()">
                            <i class="fas fa-upload"></i> Upload Document
                        </button>
                    </div>
                </div>

                <div class="documents-grid" id="documents-grid">
                    <div class="empty-state">
                        <i class="fas fa-folder-open"></i>
                        <h3>No documents uploaded</h3>
                        <p>Upload your compliance documents to get started</p>
                        <button class="btn btn-primary" onclick="showUploadModal()">
                            <i class="fas fa-upload"></i> Upload First Document
                        </button>
                    </div>
                </div>
            </section>

            <!-- Taxonomy Management Section -->
            <section id="taxonomy" class="content-section">
                <div class="section-header">
                    <h2>Document Taxonomy</h2>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="autoTagAllDocuments()">
                            <i class="fas fa-magic"></i> Auto-Tag All
                        </button>
                        <button class="btn btn-primary" onclick="generateTaxonomyReport()">
                            <i class="fas fa-chart-bar"></i> Generate Report
                        </button>
                    </div>
                </div>

                <!-- Taxonomy Tabs -->
                <div class="taxonomy-tabs">
                    <button class="tab-button active" onclick="switchTaxonomyTab('overview')">
                        <i class="fas fa-tachometer-alt"></i> Overview
                    </button>
                    <button class="tab-button" onclick="switchTaxonomyTab('documents')">
                        <i class="fas fa-file-alt"></i> Document Tags
                    </button>
                    <button class="tab-button" onclick="switchTaxonomyTab('search')">
                        <i class="fas fa-search"></i> Search & Filter
                    </button>
                    <button class="tab-button" onclick="switchTaxonomyTab('manage')">
                        <i class="fas fa-cog"></i> Manage Tags
                    </button>
                </div>

                <!-- Overview Tab -->
                <div id="overview-tab" class="tab-content active">
                    <div class="taxonomy-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Total Documents</h3>
                                <div class="stat-value" id="total-docs">0</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-tags"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Tagged Documents</h3>
                                <div class="stat-value" id="tagged-docs">0</div>
                                <div class="stat-percentage" id="tagged-percentage">0%</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="stat-content">
                                <h3>Untagged Documents</h3>
                                <div class="stat-value" id="untagged-docs">0</div>
                            </div>
                        </div>
                    </div>

                    <div class="taxonomy-charts">
                        <div class="chart-card">
                            <h3>Category Distribution</h3>
                            <div class="chart-container">
                                <canvas id="categoryChart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <h3>Risk Level Distribution</h3>
                            <div class="chart-container">
                                <canvas id="riskLevelChart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <h3>Regulatory Coverage</h3>
                            <div class="chart-container">
                                <canvas id="regulatoryChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Document Tags Tab -->
                <div id="documents-tab" class="tab-content">
                    <div class="documents-tagging">
                        <div class="tagging-controls">
                            <input type="search" class="search-input" placeholder="Search documents..." id="doc-tag-search">
                            <select class="filter-select" id="doc-tag-filter">
                                <option value="">All Documents</option>
                                <option value="tagged">Tagged</option>
                                <option value="untagged">Untagged</option>
                                <option value="auto-tagged">Auto-Tagged</option>
                            </select>
                        </div>
                        <div class="documents-tagging-grid" id="documents-tagging-grid">
                            <!-- Documents with tagging interface will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Search & Filter Tab -->
                <div id="search-tab" class="tab-content">
                    <div class="search-filters">
                        <div class="filter-section">
                            <h4>Categories</h4>
                            <div class="filter-group" id="category-filters">
                                <!-- Category filters will be loaded here -->
                            </div>
                        </div>
                        <div class="filter-section">
                            <h4>Regulatory Tags</h4>
                            <div class="filter-group" id="regulatory-filters">
                                <!-- Regulatory filters will be loaded here -->
                            </div>
                        </div>
                        <div class="filter-section">
                            <h4>Risk Level</h4>
                            <div class="filter-group" id="risk-filters">
                                <!-- Risk level filters will be loaded here -->
                            </div>
                        </div>
                        <div class="filter-section">
                            <h4>Content Type</h4>
                            <div class="filter-group" id="content-filters">
                                <!-- Content type filters will be loaded here -->
                            </div>
                        </div>
                    </div>
                    <div class="search-results" id="search-results">
                        <!-- Search results will be displayed here -->
                    </div>
                </div>

                <!-- Manage Tags Tab -->
                <div id="manage-tab" class="tab-content">
                    <div class="tag-management">
                        <div class="tag-categories">
                            <div class="tag-category">
                                <h4>Primary Categories</h4>
                                <div class="tag-list" id="primary-categories">
                                    <!-- Primary categories will be loaded here -->
                                </div>
                            </div>
                            <div class="tag-category">
                                <h4>Regulatory Tags</h4>
                                <div class="tag-list" id="regulatory-tags">
                                    <!-- Regulatory tags will be loaded here -->
                                </div>
                            </div>
                            <div class="tag-category">
                                <h4>Functional Tags</h4>
                                <div class="tag-list" id="functional-tags">
                                    <!-- Functional tags will be loaded here -->
                                </div>
                            </div>
                            <div class="tag-category">
                                <h4>Risk Levels</h4>
                                <div class="tag-list" id="risk-levels">
                                    <!-- Risk levels will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Enhanced Analysis Section -->
            <section id="analysis" class="content-section">
                <div class="section-header">
                    <h2>Compliance Analysis</h2>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="showAnalysisHistory()">
                            <i class="fas fa-history"></i> History
                        </button>
                    </div>
                </div>

                <div class="analysis-wizard">
                    <div class="wizard-steps">
                        <div class="wizard-step active" data-step="1">
                            <span class="step-number">1</span>
                            <span class="step-label">Select Document</span>
                        </div>
                        <div class="wizard-step" data-step="2">
                            <span class="step-number">2</span>
                            <span class="step-label">Choose Regulations</span>
                        </div>
                        <div class="wizard-step" data-step="3">
                            <span class="step-number">3</span>
                            <span class="step-label">Review Results</span>
                        </div>
                    </div>

                    <div class="wizard-content" id="analysis-wizard-content">
                        <!-- Step content will be dynamically loaded -->
                    </div>
                </div>
            </section>

            <!-- New Compliance Map Section -->
            <section id="compliance-map" class="content-section">
                <div class="section-header">
                    <h2>Compliance Map</h2>
                    <p class="section-subtitle">Visual overview of your compliance landscape</p>
                </div>
                <div class="compliance-map-container" id="compliance-map-container">
                    <!-- Interactive compliance visualization will be rendered here -->
                </div>
            </section>

            <!-- Enhanced Chat Section -->
            <section id="chat" class="content-section">
                <div class="chat-layout">
                    <div class="chat-main">
                        <div class="chat-header">
                            <div class="assistant-info">
                                <div class="assistant-avatar">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div>
                                    <h3>Sherara AI Assistant</h3>
                                    <p class="status"><i class="fas fa-circle"></i> Online</p>
                                </div>
                            </div>
                            <button class="btn btn-icon" onclick="clearChat()">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                        
                        <div class="chat-messages" id="chat-messages">
                            <div class="message assistant">
                                <div class="message-avatar">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div class="message-content">
                                    <p>Hello! I'm Sherara, your AI compliance assistant. I can help you:</p>
                                    <ul>
                                        <li>Understand regulatory requirements</li>
                                        <li>Analyze compliance gaps</li>
                                        <li>Generate remediation plans</li>
                                        <li>Answer compliance questions</li>
                                    </ul>
                                    <p>How can I assist you today?</p>
                                </div>
                            </div>
                        </div>

                        <div class="chat-suggestions" id="chat-suggestions">
                            <button class="suggestion-chip" onclick="sendSuggestion('What are the key GDPR requirements?')">
                                What are the key GDPR requirements?
                            </button>
                            <button class="suggestion-chip" onclick="sendSuggestion('How do I ensure AI Act compliance?')">
                                How do I ensure AI Act compliance?
                            </button>
                            <button class="suggestion-chip" onclick="sendSuggestion('Analyze my latest document')">
                                Analyze my latest document
                            </button>
                        </div>

                        <form id="chat-form" class="chat-input-form">
                            <button type="button" class="btn btn-icon" onclick="triggerChatUpload()" title="Upload document">
                                <i class="fas fa-paperclip"></i>
                            </button>
                            <input type="file" id="chat-file-input" accept=".pdf,.doc,.docx,.txt" hidden onchange="handleChatFileSelect(event)">
                            <input type="text" id="chat-input" placeholder="Type your message or upload a document..." autocomplete="off">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </form>
                        <div id="chat-file-preview" class="chat-file-preview" style="display: none;">
                            <span class="file-name"></span>
                            <button class="remove-file" onclick="removeChatFile()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>

                    <div class="chat-sidebar">
                        <h4>Quick Actions</h4>
                        <div class="quick-actions">
                            <button class="action-btn" onclick="requestGapAnalysis()">
                                <i class="fas fa-search"></i>
                                <span>Gap Analysis</span>
                            </button>
                            <button class="action-btn" onclick="requestRemediation()">
                                <i class="fas fa-tools"></i>
                                <span>Remediation Plan</span>
                            </button>
                            <button class="action-btn" onclick="requestCompliance()">
                                <i class="fas fa-check-circle"></i>
                                <span>Compliance Check</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- New AI Insights Section -->
            <section id="insights" class="content-section">
                <div class="section-header">
                    <h2>AI Insights</h2>
                    <p class="section-subtitle">Powered by advanced machine learning</p>
                </div>
                <div class="insights-grid" id="insights-grid">
                    <!-- AI-generated insights will be displayed here -->
                </div>
            </section>

            <!-- Enhanced Regulations Section -->
            <section id="regulations" class="content-section">
                <div class="section-header">
                    <h2>Regulations Management</h2>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="refreshRegulations()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                        <button class="btn btn-primary" onclick="showAddSourceModal()">
                            <i class="fas fa-plus"></i> Add Source
                        </button>
                    </div>
                </div>

                <!-- Regulations Tabs -->
                <div class="regulations-tabs">
                    <button class="tab-button" onclick="switchRegulationTab('sources')">
                        <i class="fas fa-database"></i> Data Sources
                    </button>
                    <button class="tab-button active" onclick="switchRegulationTab('library')">
                        <i class="fas fa-book"></i> Regulation Library
                    </button>
                    <button class="tab-button" onclick="switchRegulationTab('updates')">
                        <i class="fas fa-download"></i> Updates
                    </button>
                </div>

                <!-- Data Sources Tab -->
                <div id="sources-tab" class="tab-content">
                    <div class="sources-grid" id="regulation-sources">
                        <!-- Predefined sources -->
                        <div class="source-card" data-source-id="eu-official">
                            <div class="source-header">
                                <div class="source-icon">
                                    <i class="fas fa-european-sign"></i>
                                </div>
                                <div class="source-status active">
                                    <i class="fas fa-check-circle"></i> Active
                                </div>
                            </div>
                            <h3>EU Official Sources</h3>
                            <p>Official EU regulations including GDPR, AI Act, and Digital Services Act</p>
                            <div class="source-meta">
                                <span><i class="fas fa-clock"></i> Updated daily</span>
                                <span><i class="fas fa-file-alt"></i> 15 regulations</span>
                            </div>
                            <div class="source-actions">
                                <button class="btn btn-small btn-secondary" onclick="configureSource('eu-official')">
                                    <i class="fas fa-cog"></i> Configure
                                </button>
                                <button class="btn btn-small btn-primary" onclick="syncSource('eu-official')">
                                    <i class="fas fa-sync"></i> Sync Now
                                </button>
                            </div>
                        </div>

                        <div class="source-card" data-source-id="financial-services">
                            <div class="source-header">
                                <div class="source-icon">
                                    <i class="fas fa-university"></i>
                                </div>
                                <div class="source-status inactive">
                                    <i class="fas fa-pause-circle"></i> Inactive
                                </div>
                            </div>
                            <h3>Financial Services Regulations</h3>
                            <p>Banking and financial services compliance including Basel III, MiFID II, PSD2, AMLD, and more</p>
                            <div class="source-meta">
                                <span><i class="fas fa-clock"></i> Weekly updates</span>
                                <span><i class="fas fa-file-alt"></i> 8 regulations</span>
                            </div>
                            <div class="source-actions">
                                <button class="btn btn-small btn-secondary" onclick="configureSource('financial-services')">
                                    <i class="fas fa-cog"></i> Configure
                                </button>
                                <button class="btn btn-small btn-success" onclick="activateSource('financial-services')">
                                    <i class="fas fa-play"></i> Activate
                                </button>
                            </div>
                        </div>

                        <div class="source-card" data-source-id="iso-standards">
                            <div class="source-header">
                                <div class="source-icon">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <div class="source-status active">
                                    <i class="fas fa-check-circle"></i> Active
                                </div>
                            </div>
                            <h3>ISO Standards</h3>
                            <p>International standards including ISO 27001, ISO 27701, and ISO 9001</p>
                            <div class="source-meta">
                                <span><i class="fas fa-clock"></i> Monthly updates</span>
                                <span><i class="fas fa-file-alt"></i> 8 standards</span>
                            </div>
                            <div class="source-actions">
                                <button class="btn btn-small btn-secondary" onclick="configureSource('iso-standards')">
                                    <i class="fas fa-cog"></i> Configure
                                </button>
                                <button class="btn btn-small btn-primary" onclick="syncSource('iso-standards')">
                                    <i class="fas fa-sync"></i> Sync Now
                                </button>
                            </div>
                        </div>

                        <div class="source-card add-source">
                            <button class="add-source-btn" onclick="showAddSourceModal()">
                                <i class="fas fa-plus-circle"></i>
                                <span>Add Custom Source</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Library Tab -->
                <div id="library-tab" class="tab-content active">
                    <div class="library-controls">
                        <input type="search" class="search-input" placeholder="Search regulations..." id="reg-search">
                        <select class="filter-select" id="reg-filter">
                            <option value="">All Sources</option>
                            <option value="eu-official">EU Official</option>
                            <option value="financial-services">Financial Services</option>
                            <option value="iso-standards">ISO Standards</option>
                            <option value="custom">Custom</option>
                        </select>
                    </div>
                    <div class="regulations-grid" id="regulations-grid">
                        <!-- Regulations will be loaded here -->
                    </div>
                </div>

                <!-- Updates Tab -->
                <div id="updates-tab" class="tab-content">
                    <div class="updates-timeline">
                        <div class="update-item">
                            <div class="update-icon success">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="update-content">
                                <h4>GDPR Updated</h4>
                                <p>Successfully synchronized latest GDPR requirements from EU Official Sources</p>
                                <span class="update-time">2 hours ago</span>
                            </div>
                        </div>
                        <div class="update-item">
                            <div class="update-icon info">
                                <i class="fas fa-info"></i>
                            </div>
                            <div class="update-content">
                                <h4>New AI Act Guidelines</h4>
                                <p>5 new requirements added to AI Act compliance framework</p>
                                <span class="update-time">1 day ago</span>
                            </div>
                        </div>
                        <div class="update-item">
                            <div class="update-icon warning">
                                <i class="fas fa-exclamation"></i>
                            </div>
                            <div class="update-content">
                                <h4>ISO 27001 Update Available</h4>
                                <p>New version available. Review changes before updating.</p>
                                <span class="update-time">3 days ago</span>
                                <button class="btn btn-small btn-primary">Review Update</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- New Reports Section -->
            <section id="reports" class="content-section">
                <div class="section-header">
                    <h2>Compliance Reports</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="generateNewReport()">
                            <i class="fas fa-plus"></i> Generate Report
                        </button>
                    </div>
                </div>
                <div class="reports-list" id="reports-list">
                    <!-- Reports will be listed here -->
                </div>
            </section>
        </main>
    </div>

    <!-- Enhanced Upload Modal -->
    <div id="upload-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Upload Document</h3>
                <button class="close-btn" onclick="closeUploadModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="upload-form" enctype="multipart/form-data">
                    <div class="upload-zone" id="upload-zone">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <h4>Drag & Drop your file here</h4>
                        <p>or</p>
                        <input type="file" id="file-input" name="document" accept=".pdf,.doc,.docx,.txt" hidden>
                        <label for="file-input" class="btn btn-primary">Browse Files</label>
                        <p class="upload-hint">Supported: PDF, DOC, DOCX, TXT (Max 10MB)</p>
                    </div>
                    <div class="form-group">
                        <label>Document Type</label>
                        <select name="documentType" class="form-control" required>
                            <option value="">Select type...</option>
                            <option value="privacy_policy">Privacy Policy</option>
                            <option value="security_policy">Security Policy</option>
                            <option value="ai_policy">AI Policy</option>
                            <option value="data_processing">Data Processing Agreement</option>
                            <option value="internal_policy">Internal Policy</option>
                            <option value="procedure">Procedure Document</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tags (optional)</label>
                        <input type="text" name="tags" class="form-control" placeholder="e.g., GDPR, Q4-2024, Draft">
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeUploadModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-upload"></i> Upload
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Enhanced Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-content">
            <div class="spinner-container">
                <div class="spinner"></div>
            </div>
            <h3 id="loading-title">Processing...</h3>
            <p id="loading-message">Please wait while we analyze your document</p>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="loading-progress"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Regulation Details Modal -->
    <div id="regulation-modal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3 id="regulation-modal-title">Regulation Details</h3>
                <button class="close-btn" onclick="closeRegulationModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="regulation-modal-content">
                    <!-- Regulation details will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container" class="notification-container"></div>

    <!-- Chart.js for enhanced visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>
